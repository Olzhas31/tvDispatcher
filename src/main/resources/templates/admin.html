<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Админдік панель</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/images/logo/favicon.ico">

    <!-- page css -->
    <link href="assets/vendors/datatables/dataTables.bootstrap.min.css" rel="stylesheet">

    <!-- Core css -->
    <link href="assets/css/app.min.css" rel="stylesheet">

</head>

<body>
<div class="layout">
    <div class="horizontal-layout">
        <!-- Header START -->
        <div class="header-text-dark header-nav layout-horizon">
            <div class="header-nav-wrap container">
                <div class="header-nav-left">
                    <div class="nav-logo">
                        <div class="w-100 logo">
                            <img class="img-fluid" src="assets/images/logo/logo.png" style="max-height: 70px;" alt="logo">
                        </div>
                    </div>
                    <div class="header-nav-item mobile-toggle">
                        <div class="header-nav-item-select cursor-pointer">
                            <i class="nav-icon feather icon-menu icon-arrow-right"></i>
                        </div>
                    </div>
                </div>
                <div class="header-nav-right">
                    <div class="header-nav-item" sec:authorize="isAuthenticated()">
                        <div class="dropdown header-nav-item-select nav-notification">
                            <div class="toggle-wrapper" id="nav-notification-dropdown" data-bs-toggle="dropdown">
                                <i class="header-nav-item-select nav-icon feather icon-bell"></i>
                            </div>
                            <div class="dropdown-menu dropdown-menu-end">
                                <div class="nav-notification-header">
                                    <h5 class="mb-0">Хабарламалар</h5>
                                    <!--                                    <a href="#" class="font-size-sm">Барлығы оқылды</a>-->
                                </div>
                                <div class="nav-notification-body">
                                    <div class="nav-notification-item " th:each="notification : ${notifications}">
                                        <div class="bg-primary feather font-size-lg icon-info avatar avatar-circle" style="width: 40px; height: 40px; line-height: 40px;">                                            </div>
                                        <div class="ms-2">
                                                <span>
                                                    <span class="fw-bolder text-dark"> </span>
                                                    <span th:text="${notification.content}"></span>
                                                </span>
                                            <div class="font-size-sm fw-bold mt-1">
                                                <i class="feather icon-clock"></i>
                                                <span class="ms-1" th:text="${notification.createdTime}"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-notification-footer">
                                    <a href="/notifications" class="font-size-sm">Барлығын көру</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Header END -->

        <!-- Header Navbar START -->
        <div class="header-navbar nav-menu-light" sec:authorize="hasAuthority('ADMIN')">
            <div class="container">
                <ul class="nav-menu nav-menu-horizontal">
                    <li class="nav-menu-item">
                        <a href="/">
                            <i class="icon-users feather"></i>
                            <span class="nav-menu-item-title">Барлық қолданушылар</span>
                        </a>
                    </li>
                    <li class="nav-menu-item" style="padding-left: 20px" sec:authorize="isAuthenticated()">
                        <a href="/admin-new-users">
                            <i class="icon-user-plus feather"></i>
                            <span class="nav-menu-item-title">Жаңа қолданушылар</span>
                        </a>
                    </li>
                    <li class="nav-menu-item" style="padding-left: 20px">
                        <a href="/departments">
                            <i  class="la-bezier-curve la"></i>
                            <span class="nav-menu-item-title">Ұйымның құрылымы</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Header Navbar END -->

        <!-- Side Nav START -->
        <div class="side-nav vertical-menu nav-menu-light scrollable">
            <div class="nav-logo">
                <div class="w-100 logo">
                    <img class="img-fluid" src="assets/images/logo/logo.png" style="max-height: 70px;" alt="logo">
                </div>
                <div class="mobile-close">
                    <i class="icon-arrow-left feather"></i>
                </div>
            </div>
            <ul class="nav-menu">
                <li class="nav-menu-item">
                    <a href="index.html">
                        <i class="feather icon-home"></i>
                        <span class="nav-menu-item-title">Dashboard</span>
                    </a>
                </li>
                <li class="nav-group-title">APPS</li>
                <li class="nav-menu-item">
                    <a href="h-mail.html">
                        <i class="feather icon-mail"></i>
                        <span class="nav-menu-item-title">Mail</span>
                    </a>
                </li>
                <li class="nav-menu-item">
                    <a href="h-chat.html">
                        <i class="feather icon-message-circle"></i>
                        <span class="nav-menu-item-title">Chat</span>
                    </a>
                </li>
                <li class="nav-menu-item">
                    <a href="h-calendar.html">
                        <i class="feather icon-calendar"></i>
                        <span class="nav-menu-item-title">Calendar</span>
                    </a>
                </li>
                <li class="nav-group-title">USER INTERFACE</li>
                <li class="nav-submenu">
                    <a class="nav-submenu-title">
                        <i class="feather icon-box"></i>
                        <span>UI Elements</span>
                        <i class="nav-submenu-arrow"></i>
                    </a>
                    <ul class="nav-menu menu-collapse">
                        <li class="nav-menu-item">
                            <a href="h-avatar.html">Avatar</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-alert.html">Alert</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-badge.html">Badge</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-buttons.html">Buttons</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-cards.html">Cards</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-icons.html">Icons</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-lists.html">Lists</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-typography.html">Typography</a>
                        </li>
                    </ul>
                </li>
                <li class="nav-submenu">
                    <a class="nav-submenu-title">
                        <i class="feather icon-package"></i>
                        <span>Components</span>
                        <i class="nav-submenu-arrow"></i>
                    </a>
                    <ul class="nav-menu menu-collapse">
                        <li class="nav-menu-item">
                            <a href="h-accordion.html">Accordion</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-carousel.html">Carousel</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-dropdown.html">Dropdown</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-modals.html">Modals</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-toasts.html">Toasts</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-popover.html">Popover</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-progress.html">Progress</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-tabs.html">Tabs</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-tooltips.html">Tooltips</a>
                        </li>
                    </ul>
                </li>
                <li class="nav-submenu">
                    <a class="nav-submenu-title">
                        <i class="feather icon-file-text"></i>
                        <span>Forms</span>
                        <i class="nav-submenu-arrow"></i>
                    </a>
                    <ul class="nav-menu menu-collapse">
                        <li class="nav-menu-item">
                            <a href="h-form-elements.html">Form Elements</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-form-layouts.html">Form Layouts</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-form-validation.html">Form Validation</a>
                        </li>
                    </ul>
                </li>
                <li class="nav-submenu">
                    <a class="nav-submenu-title">
                        <i class="feather icon-grid"></i>
                        <span>Tables</span>
                        <i class="nav-submenu-arrow"></i>
                    </a>
                    <ul class="nav-menu menu-collapse">
                        <li class="nav-menu-item">
                            <a href="h-basic-table.html">Basic Table</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-data-table.html">Data Table</a>
                        </li>
                    </ul>
                </li>
                <li class="nav-menu-item">
                    <a href="h-chart.html">
                        <i class="feather icon-bar-chart"></i>
                        <span class="nav-menu-item-title">Chart</span>
                    </a>
                </li>
                <li class="nav-group-title">PAGES</li>
                <li class="nav-submenu">
                    <a class="nav-submenu-title">
                        <i class="feather icon-settings"></i>
                        <span>Utility</span>
                        <i class="nav-submenu-arrow"></i>
                    </a>
                    <ul class="nav-menu menu-collapse">
                        <li class="nav-menu-item">
                            <a href="h-profile-personal.html">Profile</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-invoice.html">Invoice</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-faq.html">FAQ</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-pricing.html">Pricing</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="h-user-list.html">User List</a>
                        </li>
                    </ul>
                </li>
                <li class="nav-submenu">
                    <a class="nav-submenu-title">
                        <i class="feather icon-lock"></i>
                        <span>Auth</span>
                        <i class="nav-submenu-arrow"></i>
                    </a>
                    <ul class="nav-menu menu-collapse">
                        <li class="nav-menu-item">
                            <a href="login.html">Login</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="login-v2.html">Login v2</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="login-v3.html">Login v3</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="register.html">Register</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="register-v2.html">Register v2</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="register-v3.html">Register v3</a>
                        </li>
                    </ul>
                </li>
                <li class="nav-submenu">
                    <a class="nav-submenu-title">
                        <i class="feather icon-slash"></i>
                        <span>Errors</span>
                        <i class="nav-submenu-arrow"></i>
                    </a>
                    <ul class="nav-menu menu-collapse">
                        <li class="nav-menu-item">
                            <a href="error.html">Error 1</a>
                        </li>
                        <li class="nav-menu-item">
                            <a href="error-v2.html">Error 2</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <!-- Side Nav END -->

        <!-- Content START -->
        <div class="content container">
            <div class="main">
                <div class="page-header">
                    <h4 class="page-title">Қолданушылар тізімі</h4>
                    <div class="breadcrumb">
                        <span class="me-1 text-gray"><i class="feather icon-home"></i></span>
                        <div class="breadcrumb-item"><a href="/"> Админ </a></div>
                        <div class="breadcrumb-item"><a href="/admin-users"> Қолданушылар тізімі </a></div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h4>Ақпараттық жүйедегі қолданушылар</h4>
                        <div class="mt-4">
                            <table id="data-table" class="table data-table">
                                <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Аты-жөні</th>
                                    <th>Телефон номер</th>
                                    <th>Маман</th>
                                    <th>Статус</th>
                                    <th>Тіркелген күні</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="user : ${users}">
                                    <td th:text="${user.id}"></td>
                                    <td>
                                        <div class="d-flex align-items-center">
                                            <div class="avatar avatar-circle avatar-image"
                                                 style="width: 38px; height: 38px;">
                                                <img src="assets/images/avatars/thumb-1.jpg" alt="">
                                            </div>
                                            <div class="ms-2">
                                                <div class="text-dark fw-bold">
                                                    <a th:href="@{'/profile?id=' + ${user.id}}"
                                                       th:text="${user.info.surname + ' ' + user.info.name + ' ' + user.info.middleName}"></a>
                                                </div>
                                                <div class="text-muted" th:text="${user.email}"></div>
                                            </div>
                                        </div>
                                    </td>
                                    <td><span th:text="${user.info.phoneNumber}"></span></td>
                                    <td><span th:text="${user.role.name}"></span></td>
                                    <td>
                                        <div th:if="${user.locked == false}"
                                             class="d-flex align-items-center text-success">
                                            <span class="badge-dot me-2 bg-success"></span>
                                            <span class="text-capitalize">Активті</span>
                                        </div>
                                        <div th:if="${user.locked == true}"
                                             class="d-flex align-items-center text-danger">
                                            <span class="badge-dot me-2 bg-danger"></span>
                                            <span class="text-capitalize">Бұғатталған</span>
                                        </div>
                                    </td>
                                    <td><span th:text="${user.info.registerDay}"></span></td>
                                    <td class="text-end">
                                        <div class="dropdown">
                                            <a href="#" class="px-2" data-bs-toggle="dropdown">
                                                <i class="feather icon-more-vertical"></i>
                                            </a>
                                            <ul class="dropdown-menu dropdown-menu-end">
                                                <li>
                                                    <a th:href="@{'/admin-block-user?id=' + ${user.id}}"
                                                       class="dropdown-item">
                                                        <div class="d-flex align-items-center">
                                                            <i class="feather icon-user-plus"></i>
                                                            <span class="ms-2">Блоктау</span>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a th:href="@{'/admin-unblock-user?id=' + ${user.id}}"
                                                       class="dropdown-item">
                                                        <div class="d-flex align-items-center">
                                                            <i class="feather icon-user-plus"></i>
                                                            <span class="ms-2">Блоктаy шығару</span>
                                                        </div>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                                <tfoot>
                                <tr>
                                    <th>Id</th>
                                    <th>Аты-жөні</th>
                                    <th>Телефон номер</th>
                                    <th>Маман</th>
                                    <th>Статус</th>
                                    <th>Тіркелген күні</th>
                                    <th></th>
                                </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Footer START -->
            <div class="footer">
                <div class="footer-content">
                    <p class="mb-0">Copyright © 2023 Дипломдық жоба. Барлық құқықтар қорғалған Қазақ Ұлттық Университеті. </p>
                </div>
            </div>
            <!-- Footer End -->
        </div>
        <!-- Content END -->

        <!-- Quick View START -->
        <div class="modal modal-right fade quick-view" id="quick-view">
            <div class="modal-dialog right">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title pull-left">Theme Config</h4>
                        <button type="button" class="close pull-right" data-bs-dismiss="modal">
                            <span>×</span>
                        </button>
                    </div>
                    <div class="modal-body scrollable">
                        <div class="mb-4">
                            <h5 class="mb-0">Header Color</h5>
                            <p>Config header background color</p>
                            <div class="theme-configurator d-flex mt-2">
                                <div class="radio">
                                    <input id="header-default" name="header-theme" type="radio" checked value="#ffffff">
                                    <label for="header-default"></label>
                                </div>
                                <div class="radio">
                                    <input id="header-primary" name="header-theme" type="radio" value="#11a1fd">
                                    <label for="header-primary"></label>
                                </div>
                                <div class="radio">
                                    <input id="header-success" name="header-theme" type="radio" value="#00c569">
                                    <label for="header-success"></label>
                                </div>
                                <div class="radio">
                                    <input id="header-info" name="header-theme" type="radio" value="#5a75f9">
                                    <label for="header-info"></label>
                                </div>
                                <div class="radio">
                                    <input id="header-warning" name="header-theme" type="radio" value="#ffc833">
                                    <label for="header-warning"></label>
                                </div>
                                <div class="radio">
                                    <input id="header-danger" name="header-theme" type="radio" value="#f46363">
                                    <label for="header-danger"></label>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div>
                            <h5 class="mb-0">Header Navbar Dark</h5>
                            <p>Change Header Navbar to dark</p>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" name="side-nav-theme-toggle"
                                       id="side-nav-theme-toggle">
                                <label class="form-check-label" for="side-nav-theme-toggle"></label>
                            </div>
                        </div>
                        <hr>
                        <div>
                            <h5 class="mb-0">Vertical Layout</h5>
                            <p>Set Vertical Layout</p>
                            <div class="btn-group btn-group-sm">
                                <a href="index.html" class="btn btn-outline-primary" aria-current="page">Vertical</a>
                                <a href="#" class="btn btn-outline-primary active">Horizontal</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Quick View END -->
    </div>
</div>


<!-- Core Vendors JS -->
<script src="assets/js/vendors.min.js"></script>

<!-- page js -->
<script src="assets/vendors/datatables/jquery.dataTables.min.js"></script>
<script src="assets/vendors/datatables/dataTables.bootstrap.min.js"></script>
<script>
    $('.data-table').DataTable({
        'columnDefs': [
            {'orderable': false, 'targets': 0}
        ]
    });
</script>

<!-- Core JS -->
<script src="assets/js/app.min.js"></script>

</body>

</html>